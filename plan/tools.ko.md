---
layout: default
title: 툴 정의
lang: ko
---

# 툴 정의

어시스턴트를 위한 툴을 계획하고 정의합니다.

## 툴 우선 사고

Apps SDK에서 툴은 MCP 서버와 모델 간의 계약입니다. 툴은 커넥터가 무엇을 할 수 있는지, 어떻게 호출하는지, 어떤 데이터가 반환되는지를 설명합니다. 좋은 툴 설계는 발견을 정확하게 하고, 호출을 안정적으로 하며, 다운스트림 UX를 예측 가능하게 만듭니다.

SDK를 다루기 전에 사용 사례를 잘 정의된 툴로 전환하려면 아래 체크리스트를 사용하세요.

## 툴 표면 영역 초안 작성

[사용 사례 연구](use-case.md)에서 정의한 사용자 여정부터 시작하세요:

- **툴당 하나의 작업** - 각 툴을 단일 읽기 또는 쓰기 액션("fetch_board", "create_ticket")에 집중시키고, 만능 엔드포인트가 되지 않도록 합니다. 이는 모델이 대안 중에서 결정하는 데 도움이 됩니다.
- **명시적 입력** - 매개변수 이름, 데이터 타입, 열거형을 포함한 `inputSchema`의 형태를 지금 정의합니다. 기본값과 nullable 필드를 문서화하여 모델이 무엇이 선택 사항인지 알 수 있도록 합니다.
- **예측 가능한 출력** - 모델이 후속 호출에서 재사용할 수 있는 기계 판독 가능한 식별자를 포함하여 반환할 구조화된 필드를 열거합니다.

읽기 및 쓰기 동작이 모두 필요한 경우, ChatGPT가 쓰기 액션에 대한 확인 플로우를 존중할 수 있도록 별도의 툴을 만드세요.

## 발견을 위한 메타데이터 캡처

발견은 거의 전적으로 메타데이터에 의해 구동됩니다. 각 툴에 대해 다음을 작성하세요:

- **이름** - 액션 지향적이고 커넥터 내에서 고유합니다(`kanban.move_task`).
- **설명** - "다음과 같은 경우에 사용..."으로 시작하는 한두 문장으로 모델이 정확히 언제 툴을 선택해야 하는지 알 수 있도록 합니다.
- **매개변수 주석** - 각 인수를 설명하고 안전한 범위나 열거형을 명시합니다. 이 컨텍스트는 사용자 프롬프트가 모호할 때 잘못된 호출을 방지합니다.
- **전역 메타데이터** - 디렉토리와 런처를 위한 앱 수준의 이름, 아이콘, 설명이 준비되었는지 확인합니다.

나중에 이것들을 MCP 서버에 연결하고 [메타데이터 최적화](../guides/optimize-metadata.md) 워크플로우를 사용하여 반복하세요.

## 모델 측 가드레일

툴이 연결된 후 모델이 어떻게 동작해야 하는지 생각해보세요:

- **사전 연결 vs. 연결 필수** - 앱이 익명으로 작동할 수 있다면 인증 없이 사용 가능한 것으로 툴을 표시합니다. 그렇지 않으면 [인증](../build/auth.md)에 설명된 온보딩 플로우를 통해 커넥터가 연결을 강제하도록 합니다.
- **읽기 전용 힌트** - 상태를 변경할 수 없는 툴에 대해 [readOnlyHint 주석](https://openaidevs-preview-apps-sdk.vercel.app/apps-sdk/reference#tool-descriptor-parameters)을 설정하여 ChatGPT가 가능한 경우 확인 프롬프트를 건너뛸 수 있도록 합니다.
- **결과 컴포넌트** - 각 툴이 컴포넌트를 렌더링해야 하는지, JSON만 반환해야 하는지, 아니면 둘 다인지 결정합니다. 툴 디스크립터에 `_meta["openai/outputTemplate"]`를 설정하면 ChatGPT에 HTML 템플릿을 알립니다.

## 골든 프롬프트 리허설

구현하기 전에 이전에 캡처한 프롬프트 목록에 대해 툴 세트를 검증하세요:

1. 모든 직접 프롬프트에 대해 요청을 명확하게 처리하는 툴이 정확히 하나 있는지 확인합니다.
2. 간접 프롬프트의 경우, 툴 설명이 모델에게 내장 대안 대신 커넥터를 선택할 수 있는 충분한 컨텍스트를 제공하는지 확인합니다.
3. 부정 프롬프트의 경우, 사용자가 명시적으로 선택하지 않는 한(예: 제품 이름을 언급) 메타데이터가 툴을 숨긴 상태로 유지하는지 확인합니다.

이제 격차나 모호성을 캡처하고 계획을 조정하세요. 출시 전에 메타데이터를 변경하는 것이 나중에 코드를 리팩터링하는 것보다 훨씬 저렴합니다.

## 구현으로 인계

구현할 준비가 되면 다음을 인계 문서로 작성하세요:

- 툴 이름, 설명, 입력 스키마, 예상 출력 스키마.
- 툴이 컴포넌트를 반환해야 하는지, 그렇다면 어떤 UI 컴포넌트가 렌더링해야 하는지.
- 인증 요구사항, 속도 제한, 오류 처리 기대사항.
- 성공해야 하는 테스트 프롬프트(그리고 실패해야 하는 프롬프트).

이 계획을 [서버 설정](../build/mcp-server.md) 가이드에 가져와 선택한 MCP SDK로 코드로 변환하세요.
